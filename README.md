# Tony compiler

Ομάδα
| Επώνυμο | Όνομα | Αριθμός Μητρώου |
| --- | --- | --- |
| Αραπίδης | Εμμανουήλ | 03116071 |
| Καναρόπουλος | Ιωάννης-Γεράσιμος | 03116016 |

## Εργαλεία
- flex (v2.6.4) -> λεκτική ανάλυση
- bison (v3.0.4) -> συντακτική ανάλυση
- llvm-9 -> παραγωγή ενδιάμεσου κώδικα, βελτιστοποιήσεις, παραγωγή τελικού κώδικα
- boehm garbage collector (πακέτο libgc-dev) -> συλλέκτης σκουπιδιών

## Building
Για να παραχθεί το εκτελέσιμο του μεταγλωττιστή τρέξτε την εντολή:
```
make; make clean
```

## Οδηγίες χρήσης
Για να χρησιμοποιήσετε τον μεταγλωττιστή:
```
tony.py [-h] [-O] [-f] [-i] [file]
```

Χρήση των flags:
- -O: ενεργοποίηση βελτιστοποιήσεων
- -i: είσοδος από το standard input και ο ενδιάμεσος κώδικας θα τυπωθεί στο standard output
- -f: είσοδος από το standard input και ο τελικός κώδικας θα τυπωθεί στο standard output
- file: αρχείο προς μεταγλώττιση

Αν δεν δωθεί καμιά από τις σημαίες -i και -f πρέπει να δωθεί κάποιο αρχείο.

Αν δωθεί -i ή -f τότε αφού τυπωθεί ο ενδιάμεσος ή ο τελικός κώδικας αντίστοιχα παράγεται το εκτελέσιμο `a.out`.

Αν δεν δωθούν οι -i ή -f και έστω ότι το αρχείο προς μεταγλώττιση είναι το `code/hello.tony` τότε θα παραχθούν τα `code/hello.imm`, `code/hello.asm`, `code/hello.out` που είναι τα αρχεία με τον ενδιάμεσο, τον τελικό κώδικα και το εκτελέσιμο αρχείο αντίστοιχα.
